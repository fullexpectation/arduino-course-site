---
{"dg-publish":true,"permalink":"/1/arduino/3-3-1/"}
---

tag: #Arduino #蜂鸣器 #有源蜂鸣器

-------
# **课程主题：家庭安全卫士——智能烟雾报警器**
---------

## **核心逻辑**：

### 1.  **输出**：有源蜂鸣器（会响的“LED灯”）。

### 2.  **输入**：MQ-2 烟雾/气体传感器（能闻气味的鼻子）。

### 3.  **逻辑**：模拟量读取 + 阈值判断（If-Else）。

  
---
## **一、 硬件知识铺垫 (15分钟)**

### **1. 认识 MQ-2 气体传感器**🌫️
*   **外观**：长得像个小金属网罩（像麦克风）。
*   **功能**：能检测烟雾、液化气、酒精等。
*   **引脚**：
    *   VCC -> 5V     GND -> GND   **A0 (Analog)** -> 连接 Arduino 的模拟口（如 A0）。这就是它的“嗅觉神经”。  *(D0 数字口通常不用，告诉学生我们用更精准的 A0)*。
*   **⚠️ 预热小贴士**：告诉学生，这个传感器通电后会**发热**，这是正常的（里面有加热丝），刚通电时数据不准，需要“热身”一两分钟。

---
## 1. 常用型号速查表 📊

| 型号 | 核心检测气体 | 最推荐使用场景 | 备注 |
| :--- | :--- | :--- | :--- |
| **MQ-2** | **烟雾**、可燃气体 | 🔥 火灾演示、烟雾报警 | **教学最常用** |
| **MQ-3** | **酒精** | 🍺 简易酒精测试仪 | 趣味性强 |
| **MQ-4** | 甲烷 (天然气) | 🏠 厨房燃气泄漏报警 | 针对天然气 |
| **MQ-5/6**| LPG (液化气) | 🧴 罐装煤气泄漏检测 | 针对液化气 |
| **MQ-7** | **一氧化碳 (CO)** | ☠️ 防煤气中毒报警 | 必须脉冲加热(难) |
| **MQ-8** | 氢气 | 🧪 化学实验室监测 | 较少用 |
| **MQ-9** | CO + 可燃气 | 🔄 双模式检测 | 综合性强 |
| **MQ-135**| **空气质量** | 🏫 教室/卧室空气检测 | 测苯、氨气等 |

---

## 2. 教学推荐 (Top 3) 🏆

> [!abstract] **首选：MQ-2 (烟雾)**
> **理由**：它是“全能王”。虽然不够精准，但打火机气体、烟雾、酒精它都能测到，**课堂演示成功率 100%**，也是大部分套件自带的型号。

> [!example] **趣味：MQ-3 (酒精)**
> **理由**：可以做“查酒驾”的游戏。拿沾了酒精的棉签晃一下，数值飙升，学生很喜欢。

> [!tip] **环保：MQ-135 (空气)**
> **理由**：适合做“智慧教室”或“智能窗户”项目，检测空气污浊程度。

---

## 3. ⚠️ 核心避坑指南 (必讲)

> [!danger] **1. 它会发烫！**
> MQ 传感器内部有**加热丝**，通电后摸起来热热的 (约 40℃) 是**正常现象**！
> *话术：“同学们不要怕，它不是烧坏了，它是在‘热身’，只有热了鼻子才灵。”*

> [!warning] **2. 预热时间**
> 刚通电时数值会乱跳 (通常很高)。
> **必须等待 1-3 分钟**，让读数稳定下来再开始记录阈值。

> [!failure] **3. 只是定性，不是定量**
> 这些几十块钱的传感器只能告诉你 **“有没有”** 或者 **“浓度变高了”**。
> 很难准确测出 **“现在的浓度是 50ppm”** (那是几千块钱工业探头的事)。
------
### **2. 认识有源蜂鸣器 (Active Buzzer)**

*   **找不同**：

    *   **有源**：背面被胶封住，或者正面贴了“WASHING”贴纸。
    *   **无源**：背面能看到绿色的电路板。

*   **原理**：

    *   有源蜂鸣器内部自带震荡源。
    *   **用法**：**像 LED 灯一样！** 给高电平（HIGH）就叫，给低电平（LOW）就停。
    *   *强调：它不能唱歌，只能“嘀——”。*


---

  

## **二、 实验一：测试嗅觉（串口校准）(20分钟)**

  

### 在做报警器之前，必须先知道“没有烟是多少”以及“有烟是多少”。

  
-----------
### 1.  **代码**：

  ####   `analogRead(A0)` 读取数值。
  ####   `Serial.println()` 打印出来。

### 2.  **观察与记录**：

####     正常空气中：数值可能是 100~300 左右（视环境而定）。

####     **触发测试**：

####     老师演示方法：拿一个打火机，**不要点火**，只是按下去漏一点气在传感器旁边；或者用免洗洗手液（含酒精）挥发一下。

####     观察数值：数值会瞬间飙升到 600甚至 900。

### 3.  **确定阈值**：

  ####   让学生定一个报警线。比如正常是 150，最高是 800，那我们取中间值 **400** 作为报警阈值。

  

---

## **三、 实验二：制作报警器 (30分钟)**

### **1. 任务发布**：

如果检测到烟雾（数值 > 400），蜂鸣器报警，同时红灯闪烁；否则，绿灯常亮，蜂鸣器安静。
### **2. 硬件连接**：

*   MQ-2 -> A0

*   有源蜂鸣器 -> D8 (注意正负极，长脚正，短脚负)

*   LED -> D9

  
-------------
### **3. 代码逻辑 (If-Else 复习)**：

  

```cpp

int sensorPin = A0;

int buzzerPin = 8;

int threshold = 400; // 刚才测出来的阈值
#define r 5

#define g 6

#define b 3
  

void setup() {

  Serial.begin(9600);
  pinMode(r,OUTPUT);

  pinMode(g,OUTPUT);

  pinMode(b,OUTPUT);

  pinMode(buzzerPin, OUTPUT);

  // MQ-2是模拟输入，不需要pinMode
	digitalWrite(buzzerPin,HIGH); //初始蜂鸣器不响
}

  

void loop() {

  int val = analogRead(sensorPin);

  Serial.println(val); // 保持串口观察，方便调试

  

  if (val > threshold) {
	analogWrite(r,255); //红色

    analogWrite(g,0);

    analogWrite(b,0);
    // --- 危险模式：急促报警 ---

    // 让蜂鸣器像倒车雷达一样“滴、滴、滴”

    digitalWrite(buzzerPin, LOW);

    delay(100);

    digitalWrite(buzzerPin, HIGH);

    delay(100);

  } else {

    // --- 安全模式 ---
	analogWrite(r,0);

    analogWrite(g,255);   // 绿色表示安全

    analogWrite(b,0);
    digitalWrite(buzzerPin, HIGH); // 闭嘴

  }

  delay(100);

}

```


---
## **四、 拓展与优化 (15分钟)**


*   **问题发现**：有的学生可能会发现，虽然烟散了，但传感器数值下降得很慢，蜂鸣器还在叫。

    *   **解释**：MQ-2 的物理特性决定了它“恢复”比较慢（余味散得慢）。

*   **优化挑战**：

    *   能不能加上**LCD1602**？

    *   第一行显示：`Status: Safe / Danger`

    *   第二行显示：`Value: 125`

    *   *这正好复习了上节课的 LCD 知识，把这个项目变成一个真正的产品。*


---

  

## **五、 老师备课避坑指南 (MQ-2 专属)**

### 1.  **触发源的选择**：

   ####      **绝对不要在教室里烧纸！** 烟雾不可控，且容易触发学校真正的烟感报警器。

   ####     **推荐方案**：

        1.  打火机气体（最快，最灵敏）。

        2.  **酒精棉片/免洗洗手液**（稍微慢点，但安全）。

        3.  **哈气**（如果传感器离得近，嘴里的湿气有时候也能引起数值变化，但不如气体明显）。

### 2.  **发热问题**：

 ####      告诉学生传感器摸起来**热热的**是正常的，大概 40-50度，烫不伤手，但要提醒他们不要害怕。
-----
### 3.  **有源蜂鸣器的声音**：

   ####     如果全班20个蜂鸣器一起响，你会疯掉的。

 ####       **一定要让学生撕一小块胶带贴在蜂鸣器发声孔上**，这样声音会变闷、变小，但依然听得见。

### 4.  **无源蜂鸣器还要讲吗？**     

####        这节课**不要讲无源**。

  ####      如果学生问：“老师，这声音太难听了，能放《孤勇者》吗？”

   ####     你可以说：“这个硬件叫有源蜂鸣器，专门做警报的。下节课我们换个‘乐器’（无源蜂鸣器），专门教大家写歌！” —— 完美预告下一课。


**从数据读取 -> 阈值判断 -> 硬件执行**，是一个非常标准的工程思维训练。